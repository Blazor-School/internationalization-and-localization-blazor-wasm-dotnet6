@using System.Globalization
@inject IJSRuntime JSRuntime

<select @onchange="OnChangeLanguage">
    <option value="">Select</option>
    <option value="en">English</option>
    <option value="fr">France</option>
</select>

@code {
    public List<string> Languages { get; set; } = new()
    {
        "en-US",
        "fr"
    };

    private void OnChangeLanguage(ChangeEventArgs e)
    {
        InvokeAsync(() => JSRuntime.InvokeVoidAsync("blazorCulture.set", e.Value?.ToString() ?? "en-US"));
        CultureInfo.DefaultThreadCurrentCulture = new CultureInfo(e.Value?.ToString() ?? "en-US");
        CultureInfo.DefaultThreadCurrentUICulture = new CultureInfo(e.Value?.ToString() ?? "en-US");
        InvokeAsync(StateHasChanged);
    }
}